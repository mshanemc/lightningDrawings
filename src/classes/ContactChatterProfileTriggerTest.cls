@isTest
private class ContactChatterProfileTriggerTest {

	@isTest static void feedItemTest(){

		account a = new account();
		a.name = 'Terrance Account';
		insert a;

		contact tet = new contact();
		tet.FirstName = 'Terrance';
		tet.LastName = 'McLaughlin';
		tet.AccountId = a.id;
		insert tet;

		feeditem fi = new feeditem();
		fi.ParentId = tet.Id;
		fi.Body = 'Pikachu';
		insert fi;
	}

	//needed for testing with custom settings of subscriber org
	@isTest(seeAllData=true) static void testQuickEntryCreateNoAccount(){
		//global static contact easyEntryContact (string first, string last, id contestId)
		if (!drawings__DrawingsSettings__c.getOrgDefaults().drawings__Copy_Chatter_Attachments_on_Contact__c ||  drawings__DrawingsSettings__c.getOrgDefaults().drawings__Contact_Profile_Name__c==null){
			system.debug('not using quick entry');
			return; //org is not using quickEntry
		}

		contest__c testContest = new contest__c();
		testContest.name = 'Shane\'s Supremely Awesome Giveaway';
		insert testContest;

		test.StartTest();
		drawings.easyEntryContact('Micah', 'McLaughlin', testContest.id);
		test.StopTest();

		list<user> Micah = [select id, contactId from user where firstname = 'Micah' and LastName = 'McLaughlin'];
		system.assertEquals(Micah.size(), 1);
		system.assertNotEquals(Micah[0].contactId, null);

		list<contact> Micah2 = [select id from contact where id =: Micah[0].contactid];
		system.assertEquals(Micah2.size(), 1);

	}


	@isTest(seeAllData=true) static void testChatterAttachTrigger(){


		account a = new account();
		a.name = 'Terrance Account';
		insert a;

		contact tet = new contact();
		tet.FirstName = 'Terrance';
		tet.LastName = 'McLaughlin';
		tet.AccountId = a.id;
		insert tet;

		Profile p = [SELECT Id FROM Profile WHERE Name='Customer Community User'];
		string x = string.valueOf(Math.Round(Math.Random()*10.0.pow(6)));

		User u = new User(Alias = 't'+x, Email='communityUser'+x+'@testLightningSharing2017.msm',
					EmailEncodingKey='UTF-8', LastName='McLaughlin' + x, LanguageLocaleKey='en_US',
					LocaleSidKey='en_US', ProfileId = p.Id, isactive=false, contactId = tet.Id,
					TimeZoneSidKey='America/Los_Angeles', UserName='standarduser'+x+'@testLightningSharing2017.msm');

		insert u;

		test.startTest();

		//create a file
		ContentVersion cv = new ContentVersion();
		cv.Title = 'Pikachu';
		cv.VersionData = Encodingutil.base64Decode('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');
	  cv.PathOnClient = 'pikachu.jpg';
		insert cv;

		//attach it to Micah in chatter
		feeditem fi = new feeditem();
		fi.ParentId = tet.Id;
		fi.Body = 'Pikachu';
		insert fi;

		FeedAttachment fa = new FeedAttachment();
		fa.FeedEntityId = fi.Id;
		fa.Type = 'CONTENT';
		fa.recordId = cv.id;
		insert fa;

		test.StopTest();

	}



}